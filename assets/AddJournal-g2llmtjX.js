import{u as c,i as f,r as s,j as m,c as n,a as o,w as l,v as a,k as u,f as y,o as d,p as h,h as v}from"./index-BzQ_IPB2.js";import{_,l as g,R as b,w}from"./_plugin-vue_export-helper-BdQrTTLr.js";c();const R=f(),U=s(R.query.journalId),S=s(""),C=s("");s(null);const I=s(""),P=s(""),j=s(null),p=s(!1),q=t=>`YOUR_DIRECTUS_PROJECT_URL/assets/${t}`,k=g("YOUR_DIRECTUS_PROJECT_URL").with(b());m(U,async t=>{if(t)try{p.value=!0;const e=await k.request(w("journals",{filter:{id:{_eq:t}},fields:["title","description","country","city","photo"]}));S.value=e[0].title,C.value=e[0].description,I.value=e[0].country,P.value=e[0].city,j.value=q(e[0].photo)}catch(e){console.error("Error fetching journal:",e)}finally{p.value=!1}},{immediate:!0});const E={},r=t=>(h("data-v-b945aed3"),t=t(),v(),t),T={class:"add-journal-container"},V={class:"form-group"},D=r(()=>o("label",{for:"title"},"Title:",-1)),L={class:"form-group"},$=r(()=>o("label",{for:"description"},"Description:",-1)),O={class:"form-group"},B=r(()=>o("label",{for:"city"},"City:",-1)),J={class:"form-group"},M=r(()=>o("label",{for:"country"},"Country:",-1)),N={class:"form-group"},Y=r(()=>o("label",{for:"photo"},"Photo:",-1)),A={key:0,class:"photo-preview"},F=["src"],z={key:1,type:"submit"},G={key:2};function H(t,e,K,Q,W,X){return d(),n("div",T,[o("form",{onSubmit:e[5]||(e[5]=y((...i)=>t.handleSubmit&&t.handleSubmit(...i),["prevent"]))},[o("div",V,[D,l(o("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=i=>t.title=i),required:""},null,512),[[a,t.title]])]),o("div",L,[$,l(o("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=i=>t.description=i),required:""},null,512),[[a,t.description]])]),o("div",O,[B,l(o("input",{type:"text",id:"city","onUpdate:modelValue":e[2]||(e[2]=i=>t.city=i),required:""},null,512),[[a,t.city]])]),o("div",J,[M,l(o("input",{type:"text",id:"country","onUpdate:modelValue":e[3]||(e[3]=i=>t.country=i),required:""},null,512),[[a,t.country]])]),o("div",N,[Y,o("input",{type:"file",id:"photo",onChange:e[4]||(e[4]=i=>t.handleFile(i.target.files[0]))},null,32)]),t.photoPreview?(d(),n("div",A,[o("img",{src:t.photoPreview,alt:"Photo Preview"},null,8,F)])):u("",!0),t.isLoading?u("",!0):(d(),n("button",z,"Submit")),t.isLoading?(d(),n("div",G,"Submitting...")):u("",!0)],32)])}const tt=_(E,[["render",H],["__scopeId","data-v-b945aed3"]]);export{tt as default};
