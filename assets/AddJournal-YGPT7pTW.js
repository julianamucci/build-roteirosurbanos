import{u as p,i as f,r as i,j as m,c as n,a as e,w as l,v as a,k as u,f as h,o as d,p as y,h as v}from"./index-DWy9cHW2.js";import{_ as b,l as _,R as g,w}from"./_plugin-vue_export-helper-BdQrTTLr.js";p();const S=f(),j=i(S.query.journalId),q=i(""),k=i("");i(null);const I=i(""),P=i(""),V=i(null),c=i(!1),U=t=>`https://admin.roteirosurbanos.com.br/assets/${t}`,$=_("https://admin.roteirosurbanos.com.br/").with(g());m(j,async t=>{if(t)try{c.value=!0;const o=await $.request(w("journals",{filter:{id:{_eq:t}},fields:["title","description","country","city","photo"]}));q.value=o[0].title,k.value=o[0].description,I.value=o[0].country,P.value=o[0].city,V.value=U(o[0].photo)}catch(o){console.error("Error fetching journal:",o)}finally{c.value=!1}},{immediate:!0});const C={},r=t=>(y("data-v-4c6cdcfc"),t=t(),v(),t),R={class:"add-journal-container"},B={class:"form-group"},D=r(()=>e("label",{for:"title"},"Title:",-1)),L={class:"form-group"},E=r(()=>e("label",{for:"description"},"Description:",-1)),M={class:"form-group"},N=r(()=>e("label",{for:"city"},"City:",-1)),T={class:"form-group"},A=r(()=>e("label",{for:"country"},"Country:",-1)),F={class:"form-group"},z=r(()=>e("label",{for:"photo"},"Photo:",-1)),G={key:0,class:"photo-preview"},H=["src"],J={key:1,type:"submit"},K={key:2};function O(t,o,Q,W,X,Y){return d(),n("div",R,[e("form",{onSubmit:o[5]||(o[5]=h((...s)=>t.handleSubmit&&t.handleSubmit(...s),["prevent"]))},[e("div",B,[D,l(e("input",{type:"text",id:"title","onUpdate:modelValue":o[0]||(o[0]=s=>t.title=s),required:""},null,512),[[a,t.title]])]),e("div",L,[E,l(e("textarea",{id:"description","onUpdate:modelValue":o[1]||(o[1]=s=>t.description=s),required:""},null,512),[[a,t.description]])]),e("div",M,[N,l(e("input",{type:"text",id:"city","onUpdate:modelValue":o[2]||(o[2]=s=>t.city=s),required:""},null,512),[[a,t.city]])]),e("div",T,[A,l(e("input",{type:"text",id:"country","onUpdate:modelValue":o[3]||(o[3]=s=>t.country=s),required:""},null,512),[[a,t.country]])]),e("div",F,[z,e("input",{type:"file",id:"photo",onChange:o[4]||(o[4]=s=>t.handleFile(s.target.files[0]))},null,32)]),t.photoPreview?(d(),n("div",G,[e("img",{src:t.photoPreview,alt:"Photo Preview"},null,8,H)])):u("",!0),t.isLoading?u("",!0):(d(),n("button",J,"Submit")),t.isLoading?(d(),n("div",K,"Submitting...")):u("",!0)],32)])}const tt=b(C,[["render",O],["__scopeId","data-v-4c6cdcfc"]]);export{tt as default};
